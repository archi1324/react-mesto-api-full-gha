{"ast":null,"code":"var _jsxFileName = \"/Users/artursaahov/Desktop/react-mesto-auth/src/components/App.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Route, Routes, Navigate, useNavigate } from 'react-router-dom';\nimport { CurrentUserContexts } from '../contexts/CurrentUserContexts';\nimport { useEffect } from 'react';\n\n//элементы popup\nimport InfoTooltip from './InfoTooltip.js';\n\n//элементы pages\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport ProtectedRoute from './ProtectedRoute.js';\n\n// элементы popup\nimport ImagePopup from './ImagePopup.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport AvatarPopup from './AvatarPopup.js';\nimport EditPopup from './EditPopup.js';\n\n//api\nimport api from '../utils/Api.js';\nimport * as auth from '../utils/Auth.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [profilePopupOpen, setProfilePopupOpen] = React.useState(false);\n  const [addPopupOpen, setPlacePopupOpen] = React.useState(false);\n  const [avatarPopupOpen, setAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const navigate = useNavigate();\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [profileEmail, setProfileEmail] = React.useState('');\n  const [isInfoSuccess, setInfoSuccess] = React.useState(false);\n  const [toolTipPopupOpen, settoolTipPopupOpen] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const handleEditProfileClick = () => {\n    setProfilePopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setPlacePopupOpen(true);\n  };\n  const handleEditAvatarClick = () => {\n    setAvatarPopupOpen(true);\n  };\n  const handleCardClick = card => {\n    setSelectedCard(card);\n  };\n  function closeAllPopups() {\n    setProfilePopupOpen(false);\n    setPlacePopupOpen(false);\n    setAvatarPopupOpen(false);\n    setSelectedCard(null);\n    settoolTipPopupOpen(false);\n  }\n  React.useEffect(() => {\n    api.getUserInfo().then(data => {\n      setCurrentUser(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  React.useEffect(() => {\n    api.getInitialCards().then(data => {\n      setCards(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  function handleCardLike(card) {\n    // проверяем есть ли лайк на карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked) {\n      api.likeCard(card._id, !isLiked).then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      api.deleteCardLike(card._id, !isLiked).then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n  // удаление карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      setCards(state => state.filter(c => c._id !== card._id));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  // изменение даннных пользователя\n  function handleUpdateUser(data) {\n    api.editUserInfo(data).then(data => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n  // обновление автара\n  function handleUpdateAvatar(data) {\n    api.changeAvatar(data).then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n  // добавление новой карточки\n  function handleAddPlaceSubmit(data) {\n    api.addNewCard(data).then(newCard => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n  // Проверка токена пользователя на подленность на сервере\n  function handleTokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.checkToken(jwt).then(data => {\n        if (data) {\n          setLoggedIn(true);\n          setProfileEmail(data.data.email);\n          navigate('/');\n        }\n      }).catch(err => console.log(err));\n    }\n  }\n  const isOpen = avatarPopupOpen || profilePopupOpen || addPopupOpen || selectedCard;\n  useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      // навешиваем только при открытии\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      };\n    }\n  }, [isOpen]);\n  React.useEffect(() => {\n    handleTokenCheck();\n  }, []);\n  // Регистрации пользователя на сервере\n  function handleRegisterNewUser(email, password) {\n    auth.registerUser(email, password).then(data => {\n      if (data) {\n        setInfoSuccess(true);\n        navigate('/sign-in');\n      }\n    }).catch(err => {\n      setInfoSuccess(false);\n      console.log(err);\n    }).finally(() => settoolTipPopupOpen(true));\n  }\n  //авторизация\n  function handleLoginUser(email, password) {\n    auth.loginUser(email, password).then(data => {\n      if (data.token) {\n        setProfileEmail(email);\n        setLoggedIn(true);\n        localStorage.setItem('jwt', data.token);\n        navigate('/');\n      }\n    }).catch(err => {\n      setInfoSuccess(false);\n      settoolTipPopupOpen(true);\n      console.log(err);\n    });\n  }\n  // выход из системы\n  function handleExit() {\n    localStorage.removeItem('jwt');\n    setProfileEmail('');\n    setLoggedIn(false);\n    navigate('/sign-in');\n  }\n  return /*#__PURE__*/_jsxDEV(CurrentUserContexts.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page__container\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          onExit: handleExit,\n          profileEmail: profileEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              element: Main,\n              loggedIn: loggedIn,\n              editAvatar: handleEditAvatarClick,\n              editProfile: handleEditProfileClick,\n              addPlace: handleAddPlaceClick,\n              cardClick: handleCardClick,\n              CardLike: handleCardLike,\n              CardDelete: handleCardDelete,\n              cards: cards\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: loggedIn ? /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 49\n            }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/sign-up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 71\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/sign-up\",\n            element: /*#__PURE__*/_jsxDEV(Register, {\n              onRegister: handleRegisterNewUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/sign-in\",\n            element: /*#__PURE__*/_jsxDEV(Login, {\n              onLogin: handleLoginUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n          isOpen: addPopupOpen,\n          onClose: closeAllPopups,\n          addPlace: handleAddPlaceSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EditPopup, {\n          isOpen: profilePopupOpen,\n          onClose: closeAllPopups,\n          updateUser: handleUpdateUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AvatarPopup, {\n          isOpen: avatarPopupOpen,\n          onClose: closeAllPopups,\n          updateAvatar: handleUpdateAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n          isOpen: selectedCard,\n          card: selectedCard,\n          onClose: closeAllPopups\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n          isOpen: toolTipPopupOpen,\n          onClose: closeAllPopups,\n          isSuccess: isInfoSuccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"sI4bdyfGTAwpQqDu/d0wrqu2ET0=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Route","Routes","Navigate","useNavigate","CurrentUserContexts","useEffect","InfoTooltip","Header","Main","Footer","Login","Register","ProtectedRoute","ImagePopup","PopupWithForm","AddPlacePopup","AvatarPopup","EditPopup","api","auth","jsxDEV","_jsxDEV","App","_s","profilePopupOpen","setProfilePopupOpen","useState","addPopupOpen","setPlacePopupOpen","avatarPopupOpen","setAvatarPopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","navigate","loggedIn","setLoggedIn","profileEmail","setProfileEmail","isInfoSuccess","setInfoSuccess","toolTipPopupOpen","settoolTipPopupOpen","isLoading","setIsLoading","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","card","closeAllPopups","getUserInfo","then","data","catch","err","console","log","getInitialCards","handleCardLike","isLiked","likes","some","i","_id","likeCard","newCard","state","map","c","deleteCardLike","handleCardDelete","deleteCard","filter","handleUpdateUser","editUserInfo","error","handleUpdateAvatar","changeAvatar","res","handleAddPlaceSubmit","addNewCard","handleTokenCheck","jwt","localStorage","getItem","checkToken","email","isOpen","closeByEscape","evt","key","document","addEventListener","removeEventListener","handleRegisterNewUser","password","registerUser","finally","handleLoginUser","loginUser","token","setItem","handleExit","removeItem","Provider","value","children","className","onExit","fileName","_jsxFileName","lineNumber","columnNumber","path","element","editAvatar","editProfile","addPlace","cardClick","CardLike","CardDelete","to","onRegister","onLogin","onClose","updateUser","updateAvatar","isSuccess","_c","$RefreshReg$"],"sources":["/Users/artursaahov/Desktop/react-mesto-auth/src/components/App.js"],"sourcesContent":["import React from 'react';\nimport { Route, Routes, Navigate, useNavigate } from 'react-router-dom';\nimport { CurrentUserContexts } from '../contexts/CurrentUserContexts';\nimport { useEffect } from 'react';\n\n//элементы popup\nimport InfoTooltip from './InfoTooltip.js';\n\n//элементы pages\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport ProtectedRoute from './ProtectedRoute.js';\n\n// элементы popup\nimport ImagePopup from './ImagePopup.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport AvatarPopup from './AvatarPopup.js';\nimport EditPopup from './EditPopup.js';\n\n//api\nimport api from '../utils/Api.js'\nimport * as auth from '../utils/Auth.js';\n\n\nexport default function App() {\n  const [profilePopupOpen, setProfilePopupOpen] = React.useState(false);\n  const [addPopupOpen, setPlacePopupOpen] = React.useState(false);\n  const [avatarPopupOpen, setAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const navigate = useNavigate();\n  const [loggedIn, setLoggedIn] = React.useState(false)\n  const [profileEmail, setProfileEmail] = React.useState('');\n  const [isInfoSuccess, setInfoSuccess] = React.useState(false);\n  const [toolTipPopupOpen, settoolTipPopupOpen] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n\n  const handleEditProfileClick = () => { setProfilePopupOpen(true) }\n  const handleAddPlaceClick = () => { setPlacePopupOpen(true) }\n  const handleEditAvatarClick = () => { setAvatarPopupOpen(true) }\n  const handleCardClick = (card) => {\n    setSelectedCard(card)\n  }\n\n  function closeAllPopups() {\n    setProfilePopupOpen(false);\n    setPlacePopupOpen(false);\n    setAvatarPopupOpen(false);\n    setSelectedCard(null);\n    settoolTipPopupOpen(false);\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => { setCurrentUser(data) })\n      .catch((err) => { console.log(err) })\n  }, [])\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => { setCards(data) })\n      .catch((err) => { console.log(err) })\n  }, []);\n\n  function handleCardLike(card) {\n    // проверяем есть ли лайк на карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked) {\n      api.likeCard(card._id, !isLiked)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => { console.log(err) });\n    } else {\n      api.deleteCardLike(card._id, !isLiked)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => { console.log(err) });\n    }\n  }\n  // удаление карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter(c => c._id !== card._id))\n      })\n      .catch((err) => { console.log(err) })\n  }\n  // изменение даннных пользователя\n  function handleUpdateUser(data) {\n    api.editUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups()\n      })\n      .catch((err) => { console.error(err) })\n  }\n  // обновление автара\n  function handleUpdateAvatar(data) {\n    api.changeAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups()\n      })\n      .catch((err) => { console.error(err) })\n  }\n  // добавление новой карточки\n  function handleAddPlaceSubmit(data) {\n    api.addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch(err => { console.error(err) })\n  }\n  // Проверка токена пользователя на подленность на сервере\n  function handleTokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.checkToken(jwt)\n        .then((data) => {\n          if (data) {\n            setLoggedIn(true);\n            setProfileEmail(data.data.email);\n            navigate('/');\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  const isOpen = avatarPopupOpen || profilePopupOpen || addPopupOpen || selectedCard\n  useEffect(() => {\n    function closeByEscape(evt) {\n      if(evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if(isOpen) { // навешиваем только при открытии\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      }\n    }\n  }, [isOpen]) \n\n\n  React.useEffect(() => {\n    handleTokenCheck();\n  }, [])\n  // Регистрации пользователя на сервере\n  function handleRegisterNewUser(email, password) {\n    auth.registerUser(email, password)\n      .then((data) => {\n        if (data) {\n          setInfoSuccess(true);\n          navigate('/sign-in');\n        }\n      })\n      .catch((err) => {\n        setInfoSuccess(false);\n        console.log(err);\n      })\n      .finally(() => settoolTipPopupOpen(true));\n  }\n  //авторизация\n  function handleLoginUser(email, password) {\n    auth.loginUser(email, password)\n      .then((data) => {\n        if (data.token) {\n          setProfileEmail(email);\n          setLoggedIn(true);\n          localStorage.setItem('jwt', data.token);\n          navigate('/');\n        }\n      })\n      .catch((err) => {\n        setInfoSuccess(false);\n        settoolTipPopupOpen(true);\n        console.log(err);\n      });\n  }\n  // выход из системы\n  function handleExit() {\n    localStorage.removeItem('jwt');\n    setProfileEmail('');\n    setLoggedIn(false);\n    navigate('/sign-in');\n  }\n\n  return (\n    <CurrentUserContexts.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header onExit={handleExit} profileEmail={profileEmail}/>\n          <Routes>\n            <Route path=\"/\" element={<ProtectedRoute element={Main} loggedIn={loggedIn}\n            editAvatar={handleEditAvatarClick}\n            editProfile={handleEditProfileClick}\n            addPlace={handleAddPlaceClick}\n            cardClick={handleCardClick}\n            CardLike={handleCardLike}\n            CardDelete={handleCardDelete}\n            cards={cards} />}/>\n            <Route path=\"/\" element={loggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/sign-up\" />} /> \n            <Route path=\"/sign-up\" element={<Register onRegister={handleRegisterNewUser} />} />\n            <Route path=\"/sign-in\" element={<Login onLogin={handleLoginUser} />} />\n          </Routes>\n          <Footer />\n          <AddPlacePopup isOpen={addPopupOpen} onClose={closeAllPopups} addPlace={handleAddPlaceSubmit} />\n          <EditPopup isOpen={profilePopupOpen} onClose={closeAllPopups} updateUser={handleUpdateUser} />\n          <AvatarPopup isOpen={avatarPopupOpen} onClose={closeAllPopups} updateAvatar={handleUpdateAvatar} />\n          <ImagePopup isOpen={selectedCard} card={selectedCard} onClose={closeAllPopups} />\n          <InfoTooltip isOpen={toolTipPopupOpen} onClose={closeAllPopups} isSuccess={isInfoSuccess}/>\n        </div>\n      </div>\n    </CurrentUserContexts.Provider>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}